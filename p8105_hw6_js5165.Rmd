---
title: "p8105_hw6_js5165"
author: "Jingqi Song"
date: "November 28, 2018"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

## Problem 1

### Read and tidy data

```{r p1}
homicide = read_csv("./homicide-data.csv") %>% 
  janitor::clean_names() %>% 
  mutate(city_state = paste(paste0(city, ","), state),
         victim_race = fct_relevel(ifelse(victim_race == 'White', 'white', 'non-white'), 'white'),
         victim_age = as.numeric(victim_age),
         victim_sex = as.factor(victim_sex),
         resolved = as.numeric(disposition == "Closed by arrest")) %>% 
  filter(!city_state %in% c("Dallas, TX", "Phoenix, AZ", "Kansas City, MO", "Tulsa, AL")) 

```

Read and tidy data

```{r p1}
homicide %>% 
  select(uid, victim_race, victim_age, victim_sex, city_state, resolved)

```





